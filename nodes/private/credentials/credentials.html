<!-- =============================
  KRAKEN CREDENTIALS NODE 
============================= --> 
<script type="text/javascript">

	function validateKrakenNode() {
		var credentials = RED.nodes.node(this.kraken);
		console.error(credentials);
		return credentials !== null && credentials.valid === true;
	}

	RED.nodes.registerType('kraken-credentials', {
	category: 'config',
	defaults: {
	  name: {value: ""}
	},
	credentials: {
	  apiKey: {type: "password", required: true},
	  apiSecret: {type: "password", required: true}
	},
	inputs: 0,
	outputs: 0,
	label: function () {
	  return this.name || "Kraken credentials";
	}
	});
</script>

<script type="text/x-red" data-template-name="kraken-credentials">
  <div class="form-row">
    <label for="node-config-input-name"><i class="icon-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
    <input type="text" id="node-config-input-name" data-i18n="[placeholder]node-red:common.label.name">
  </div>
  <div class="form-row">
	<label for="node-config-input-apiKey"><i class="icon-lock"></i> API Key</label>
	<input type="password" id="node-config-input-apiKey" placeholder="API Key">
  </div>
  <div class="form-row">
    <label for="node-config-input-apiSecret"><i class="icon-tag"></i> <span data-i18n="kraken.label.apiSecret"></span></label>
    <input type="password" id="node-config-input-apiSecret" data-i18n="[placeholder]kraken.placeholder.apiSecret">
  </div>
</script>


<script type="text/x-red" data-help-name="kraken-credentials">
  <h1>Kraken Credentials</h1>
  <p>API credential setup.</p>
  <h3>Input</h3>
  <dl class="message-properties">
    <dt>
      API key
      <span class="property-type">string</span>
    </dt>
    <dd>Karaken account API key</dd>
    <dt>
      API secret
      <span class="property-type">string</span>
    </dt>
    <dd>Kraken account API secret</dd>
  </dl>
  <h3>Details:</h3>
  <p>Kraken API credentials can be obtained from <a href="https://www.binance.com/userCenter/createApi.html" target="_blank">https://www.binance.com/userCenter/createApi.html</a> after logging into your Binance account.</p>
  <p><strong>Read Info</strong> privilege required to access account records.</p>
  <p><strong>Enable trading</strong> privilege required only for buy/sell nodes.</p>
  <p>API credential are saved as Node-RED credential nodes inside the (optionally) encrypted <code>flows_cred.json</code> file.</p>
  <p><a href="https://nodered.org/docs/creating-nodes/credentials" target="_blank">More details here</a></p>
</script>